<!DOCTYPE html>
<html lang="ja">
<head>
<link rel="icon" href="icon.png" type="image/x-icon">
<meta charset="UTF-8">
<title>掲示板</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="ページの説明">
<meta name="keywords" content="ページのキーワードA,B,C">
<link rel="stylesheet" href="index.css">
</head>
<body>
<div id="outer">
<header><div id="header-inner"><h1>watatawa Software</h1><a href="index.html">トップページ</a>   <a href="download.html">ダウンロード</a>   <a href="post.html">掲示板</a>   <a href="guff.html">ガフ札情報</a>
</div></header>
<main><div id="text">
<h2>掲示板</h2>

 
  <form id="postForm">
    <input type="text" id="message" placeholder="メッセージ" required />
    <button type="submit">投稿</button>
  </form>

  <h2>投稿一覧</h2>
  <ul id="messages"></ul>

  <script>
    const form = document.getElementById('postForm');
    const input = document.getElementById('message');
    const messages = document.getElementById('messages');

    form.addEventListener('submit', async e => {
      e.preventDefault();
      const message = input.value.trim();
      if (!message) return;

      await fetch('/save', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message })
      });

      input.value = '';
      loadMessages();
    });

    async function loadMessages() {
      const res = await fetch('/messages');
      const data = await res.json();
      messages.innerHTML = '';
      data.forEach(msg => {
        const li = document.createElement('li');
        li.textContent = msg;
        messages.appendChild(li);
      });
    }

    loadMessages();
  </script>



  



</div>
</main>
<aside>
<div class="side-title">menu</div>
<div class="side">
<ul>
 

</ul>
</div>
</aside>
<footer>all rights reserved ©watatawa Software 2021~2025</footer>