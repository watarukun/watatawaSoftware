<html>
 <head>
<link rel="icon" href="icon.png" type="image/x-icon">
<meta charset="UTF-8">
<title>お知らせ</title>  
  

  

<style>  



body {
    background-color: var(--darker-background-color) !important;
 
    margin: 0
}



</style>
<style>:root {
    --link-color: #4bacd2;
    --background-color: white;
    --dark-background-color: #f5f8fa;
    --darker-background-color: #f5f8fa;
    --almost-black: #292f33;
    --border: #e1e8ed;
    --darker-gray: #66757f;
    --default-text-color: black;
}






#navbar {
    position: fixed;
    background-color: var(--background-color);
    border-bottom: 1px solid rgba(0, 0, 0, 0.15);
    height: 46px;
    top: 0;
    left: 0;
    width: 100vw;
    z-index: 100;
    font-size: 13px;
    color: var(--darker-gray);
    padding-right: calc(100vw - 100%);
}

#navbar-line {
    top: 46px;
    position: fixed;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    height: 1px;
    width: 100%;
    z-index: 99;
    left: 0;
}

#navbar-container {
    margin: 0 auto;
    max-width: 1222px;
}








#navbar a {
    color: var(--darker-gray);
    text-decoration: none;
    z-index: 98;
}

#navbar a:hover {
    color: var(--link-color);
}

#navbar-links a {
    padding: 13px 15px;
    /*padding-bottom: 16px;*/
    top: 8px;
    position: relative;
    /* border-bottom: 3px solid transparent; */
    transition: 0.2s;
}

/* To add new CSS styles to .menu-active. */
#navbar-links a.menu-active {
    padding-bottom: 16px;
}


#navbar-links a:hover {
    box-shadow: 0px -7px 0px -4px var(--link-color) inset;
    transition: 0.2s;
    padding-bottom: 16px;
}

.menu-active {
    box-shadow: 0px -7px 0px -4px var(--link-color) inset;
}

.menu-active:before {
    color: var(--link-color) !important;
}






#navbar-links {
    width: fit-content;
    margin-left: 7px;
}

#logo-image {
    height: 34px;
    width: 34px;
    margin-right: 8px;
    margin-left: 5px;
    vertical-align: middle;
    position: relative;
    top: 2px;
}
#logo-icon {
    padding: 13px 10px;
}

#results {
  position: absolute;
  top: 50px;
  right: 20px;
  width: 300px;
  background-color: rgb(247, 251, 255);
  border: 1px solid #e4e4e4;
  padding: 10px;
  display: none; /* 最初は非表示 */
  z-index: 1000;
}
.text-box {
   
  width: 1000px;
  height: auto;
  padding: 5px;
  border: 1px solid #ccc;
  background-color: #f8f8f8;
  font-size: 16px;
  color: #333;
  line-height: 1.0;
  border-radius: 4px;
  white-space: pre-wrap;
  text-align: left;
    position: relative;
  top: 70px;   /* 下に20px移動 */
  left: 120px;  /* 右に10px移動 */
}

.message {
    color: #585858;
  margin-top: 0.1px;    /* 上の余白を狭く */
  margin-bottom: 0.1px; /* 下の余白も狭く */
  line-height: 0.0001;   /* 行間も少し狭く */
  
}
.message:first-child {
  margin-top: 0;      /* 最初のメッセージは上マージン無し */
}

a {
    color: #4bacd2;
}


.text-box {
  word-wrap: break-word;     /* 単語の途中でも折り返す */
  white-space: normal;       /* 通常の折り返しを許可 */
  line-height: 1.4;          /* 行間を適切にする（好みに応じて） */
  margin: 0;                 /* 余白をなくす（任意） */
}
p {
    color: #676767;
  word-wrap: break-word;     /* 単語の途中でも折り返す */
  white-space: normal;       /* 通常の折り返しを許可 */
  line-height: 1.4;          /* 行間を適切にする（好みに応じて） */
  margin: 0;                 /* 余白をなくす（任意） */
}

a {
  word-wrap: break-word;     /* 単語の途中でも折り返す */
  white-space: normal;       /* 通常の折り返しを許可 */
  line-height: 1.4;          /* 行間を適切にする（好みに応じて） */
  margin: 0;                 /* 余白をなくす（任意） */
}



.footer {
  margin-top: 100px;              /* 上との間隔（必要に応じて調整） */
  padding: 15px 0;
  background-color: #222;
  color: #fff;
  text-align: center;
  font-size: 14px;
  width: 100%;
      position: relative;
  top: 173px;   /* 下に20px移動 */
 


}

.text-box2 {
   
  width: 1000px;
  height: auto;
  padding: 5px;
  border: 1px solid #ccc;
  background-color: #f8f8f8;
  font-size: 16px;
  color: #333;
  line-height: 1.0;
  border-radius: 4px;
  white-space: pre-wrap;
  text-align: left;
    position: relative;
  top: 90px;   /* 下に20px移動 */
  left: -5px;  /* 右に10px移動 */
}
a {
    text-decoration: none;
}



</style>

    <header><div id="navbar">   
    <div id="navbar-container">
    
        <div id="navbar-links">

                   <a href="index.html" id="logo-icon">
        <img src="iconnew.png" alt="アイコン" id="logo-image">
    </a>
    　　   <a href="index.html" ><span>ホーム</span></a>
            <a href="oshirase.html" id="home" class="menu-active"><span class="nav-text">お知らせ</span></a>
          
            <a href="chat.html" ><span>チャット</span></a>
            <a href="social.html" ><span>ソーシャル</span></a>
            <a href="post.html" ><span>掲示板</span></a>
            <a href="market.html" ><span>マーケット</span></a>

                 <label>言語：</label>
        <select id="language">
          <option value="japanese">日本語</option>
        </select>

        <label>ジャンル：</label>
        <select id="genre" onchange="loadGenreData()">
          <option value="すべて">すべて</option>
          <option value="ウェブサイト">ウェブサイト</option>
          <option value="掲示板スレッド">掲示板スレッド</option>
        </select>
　
       <input type="text" id="searchBox" placeholder="キーワードを入力">

        <button onclick="searchFiles()">検索　　</button>
        </div>
         <div id="results"></div>
     </div>
     </div>
 <div class="text-box">
  <div class="message">
<h3>重要なお知らせ</h3>
<p>現在ページのレイアウトを従来の簡易HTMLから新しいものに変更していますがまだCSSを反映できていないものがあるため一部のページはまだ簡易HTML版のままである可能性があります。
  しかしこれは不具合ではないのでご安心ください。
  <hr>
  <h3>わたたわチャット機能について</h3>
<p>UIの大幅な改良を行いました。より良いCSSフレームワークを使用し簡易HTML版の殺風景な感じから使いやすく見た目が良くなりました。
  詳しくは<a href="chat.html">チャット</a>へアクセスしてください。</p><p>しかし従来の簡易HTML版チャットにはアクセスできなくなりました</p>
  </div>
  </div>
  </header>




  <br>
  <br>
  <br>
  <br>

     </header>
     </head>
     <br>
     <br>
   
     <br>
     <br>
     <br>
     <br>
     <br>
<footer class="footer">
          <a href="otoiawase.html">お問い合わせフォーム</a><br>
      <a href="riyoukiyaku.html">利用規約</a>
  <p>all rights reserved ©watatawa Software 2021~2025</p>
</footer>
    <script>
let files = [];
const searchBox = document.getElementById('searchBox');
const resultsDiv = document.getElementById('results');
const searchButton = document.querySelector('button');

function loadGenreData() {
  const genre = document.getElementById('genre').value;
  resultsDiv.innerHTML = '';

  if (!genre) {
    files = [];
    resultsDiv.innerHTML = '<p>すべてのジャンルを表示します。</p>';
    return;
  }

  fetch(`${genre}.json`)
    .then(res => res.json())
    .then(data => {
      files = data;
      resultsDiv.innerHTML = `<p>検索対象：${genre}</p>`;
    })
    .catch(() => {
      resultsDiv.innerHTML = `<p>${genre}.json の読み込みに失敗しました。</p>`;
    });
}

function normalize(str) {
  return str.normalize("NFKC").toLowerCase().replace(/\s+/g, '');
}

function searchFiles() {
  const keyword = searchBox.value.trim();
  resultsDiv.innerHTML = '';

  if (!files.length) {
    resultsDiv.innerHTML = '<p>ジャンルを選択してください</p>';
    resultsDiv.style.display = 'block';
    return;
  }

  if (!keyword) {
    resultsDiv.innerHTML = '<p>キーワードが入力されていません。</p>';
    resultsDiv.style.display = 'block';
    return;
  }

  const firstChar = normalize(keyword).charAt(0);
  const matched = [];

  files.forEach(f => {
    const title = normalize(f.title);
    const file = normalize(f.file);

    const titleWords = title.split(/[\s　・,、。！？]/);
    const fileWords = file.split(/[\s　・,、。！？]/);

    const titleMatch = titleWords.some(word => word.startsWith(firstChar));
    const fileMatch = fileWords.some(word => word.startsWith(firstChar));

    if (titleMatch || fileMatch) {
      matched.push(f);
    }
  });

  if (matched.length === 0) {
    resultsDiv.innerHTML = '<p>見つかりませんでした</p>';
  } else {
    matched.forEach(f => {
      const block = document.createElement('div');
      block.innerHTML = `
        <strong>${f.title}</strong><br>
        <a href="${f.file}">${f.file}</a>
        <hr>
      `;
      resultsDiv.appendChild(block);
    });
  }

  resultsDiv.style.display = 'block'; // ← ここで表示！
}

// 外をクリックしたら非表示（ただし検索欄とボタン・結果は除外）
document.addEventListener('click', function(event) {
  const isInside =
    resultsDiv.contains(event.target) ||
    searchBox.contains(event.target) ||
    searchButton.contains(event.target);

  if (!isInside) {
    resultsDiv.style.display = 'none';
  }
});

window.addEventListener('DOMContentLoaded', () => {
  loadGenreData();
});
</script>

     </html>